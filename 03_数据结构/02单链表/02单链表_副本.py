class Node:
    """åˆ›å»ºå•é“¾è¡¨èŠ‚ç‚¹"""

    def __init__(self, data):
        self.data = data
        self.next = None


class LinkList:
    def __init__(self, node=None):
        # __headæ˜¯ç§æœ‰å±žæ€§
        self.__head = node
        """
        éžå¸¸æ£’çš„é—®é¢˜ ðŸ‘ðŸ‘ðŸ‘
è¿™æ˜¯å¾ˆå¤šåˆå­¦é“¾è¡¨æ—¶æœ€å®¹æ˜“æ··æ·†çš„åœ°æ–¹ä¹‹ä¸€â€”â€”â€œå¤´èŠ‚ç‚¹ï¼ˆhead nodeï¼‰â€ã€â€œé¦–èŠ‚ç‚¹ï¼ˆfirst nodeï¼‰â€ã€â€œç¬¬ä¸€ä¸ªèŠ‚ç‚¹â€ï¼Œçœ‹èµ·æ¥å·®ä¸å¤šï¼Œ
å…¶å®žåœ¨ä¸åŒè¯­å¢ƒä¸‹ **æœ‰ç»†å¾®åŒºåˆ«**ï¼Œå°¤å…¶åœ¨è®²â€œå¤´æ’æ³•â€æ—¶ã€‚
# å…ˆçœ‹ç»“è®ºï¼š
å¤´èŠ‚ç‚¹ï¼ˆå¤´ç»“ç‚¹ï¼‰ä¹Ÿå°±æ˜¯å“‘èŠ‚ç‚¹ï¼ŒPythonä¸€èˆ¬ä¸ç”¨è¿™ç§å†™æ³•ï¼›é¦–èŠ‚ç‚¹ï¼ˆç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼‰æ˜¯é“¾è¡¨ä¸­çœŸæ­£çš„ç¬¬ä¸€ä¸ªæ•°æ®èŠ‚ç‚¹ï¼›
å¤´æŒ‡é’ˆï¼ˆhead æŒ‡é’ˆï¼‰ï¼ŒæŒ‡å‘å¤´èŠ‚ç‚¹æˆ–é¦–èŠ‚ç‚¹ï¼Œåªæ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œç”¨æ¥æ ‡è¯†é“¾è¡¨çš„å¼€å§‹ã€‚

æˆ‘æ¥å¸®ä½ ç†æ¸…æ¥š ðŸ‘‡

---

## ðŸ§© ä¸€ã€ä¸‰è€…çš„åŸºæœ¬åŒºåˆ«

| åç§°               | è‹±æ–‡             | æ˜¯å¦å­˜æ•°æ®       | ä½œç”¨               |
| ---------------- | -------------- | ----------- | ---------------- |
| **å¤´èŠ‚ç‚¹ï¼ˆå¤´ç»“ç‚¹ï¼‰**     | *head node*    | âŒ ä¸€èˆ¬ä¸å­˜å®žé™…æ•°æ®  | é“¾è¡¨çš„â€œå“¨å…µèŠ‚ç‚¹â€ï¼Œç”¨äºŽç®€åŒ–æ“ä½œ |
| **é¦–èŠ‚ç‚¹ï¼ˆç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼‰**   | *first node*   | âœ… å­˜æ”¾ç¬¬ä¸€ä¸ªæœ‰æ•ˆæ•°æ® | é“¾è¡¨ä¸­çœŸæ­£çš„ç¬¬ä¸€ä¸ªæ•°æ®èŠ‚ç‚¹    |
| **å¤´æŒ‡é’ˆï¼ˆhead æŒ‡é’ˆï¼‰** | *head pointer* | æŒ‡å‘å¤´èŠ‚ç‚¹æˆ–é¦–èŠ‚ç‚¹   | åªæ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œç”¨æ¥æ ‡è¯†é“¾è¡¨çš„å¼€å§‹ |

---

## ðŸ§  äºŒã€ä¸¤ç§æƒ…å†µï¼šæœ‰å¤´ç»“ç‚¹ vs æ— å¤´ç»“ç‚¹

### âœ… æƒ…å†µ 1ï¼š**æœ‰å¤´ç»“ç‚¹çš„é“¾è¡¨**

ï¼ˆæ¯”å¦‚å¾ˆå¤šæ•™æã€Cè¯­è¨€é“¾è¡¨ï¼‰

```
head â†’ [å¤´ç»“ç‚¹(None)] â†’ [é¦–èŠ‚ç‚¹(data1)] â†’ [data2] â†’ [data3] â†’ None
```

* **å¤´ç»“ç‚¹ï¼ˆhead nodeï¼‰**ï¼šä¸å­˜å®žé™…æ•°æ®ï¼Œåªæ˜¯ä¸€ä¸ªå›ºå®šçš„èµ·ç‚¹ï¼Œç”¨æ¥ç»Ÿä¸€æ“ä½œï¼ˆæ¯”å¦‚æ’å…¥ã€åˆ é™¤ï¼‰
* **é¦–èŠ‚ç‚¹ï¼ˆfirst nodeï¼‰**ï¼šç¬¬ä¸€ä¸ªå­˜æ”¾æ•°æ®çš„èŠ‚ç‚¹
* **head**ï¼šæ˜¯æŒ‡é’ˆï¼ˆå˜é‡åï¼‰ï¼ŒæŒ‡å‘å¤´ç»“ç‚¹

ðŸ‘‰ **å¤´æ’æ³•**æ—¶ï¼Œæˆ‘ä»¬ä¸€èˆ¬åœ¨å¤´ç»“ç‚¹åŽé¢æ’å…¥æ–°èŠ‚ç‚¹ã€‚

```text
# æ’å…¥å‰ï¼š
head â†’ [å¤´ç»“ç‚¹] â†’ [data1] â†’ [data2]

# æ’å…¥ data0ï¼š
head â†’ [å¤´ç»“ç‚¹] â†’ [data0] â†’ [data1] â†’ [data2]
```

---

### âœ… æƒ…å†µ 2ï¼š**æ— å¤´ç»“ç‚¹çš„é“¾è¡¨**

ï¼ˆæ¯”å¦‚ Python å®žçŽ°çš„é“¾è¡¨ï¼‰

```
head â†’ [data1] â†’ [data2] â†’ [data3] â†’ None
```

* æ²¡æœ‰â€œå“¨å…µèŠ‚ç‚¹â€ï¼›
* `head` ç›´æŽ¥æŒ‡å‘ç¬¬ä¸€ä¸ªå­˜æ•°æ®çš„èŠ‚ç‚¹ï¼›
* æ‰€ä»¥æ­¤æ—¶ï¼š

  * â€œå¤´èŠ‚ç‚¹â€ = â€œé¦–èŠ‚ç‚¹â€ = â€œç¬¬ä¸€ä¸ªèŠ‚ç‚¹â€ âœ…

ðŸ‘‰ â€œå¤´æ’æ³•â€æ—¶ï¼Œç›´æŽ¥è®©æ–°èŠ‚ç‚¹æˆä¸ºæ–°çš„ headï¼š

```text
# æ’å…¥å‰ï¼š
head â†’ [data1] â†’ [data2]

# æ’å…¥ data0ï¼š
new_node.next = head
head = new_node
```

å˜ä¸ºï¼š

```
head â†’ [data0] â†’ [data1] â†’ [data2]
```

---

## ðŸ’¬ ä¸‰ã€æ€»ç»“åŒºåˆ«ä¸€å¥è¯è®°

| åœºæ™¯             | å¤´èŠ‚ç‚¹         | é¦–èŠ‚ç‚¹       | ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ |
| -------------- | ----------- | --------- | ----- |
| æœ‰å¤´ç»“ç‚¹é“¾è¡¨         | ä¸å­˜æ•°æ®ï¼Œç”¨æ¥ç»Ÿä¸€æ“ä½œ | ç¬¬ä¸€ä¸ªæœ‰æ•°æ®çš„èŠ‚ç‚¹ | åŒé¦–èŠ‚ç‚¹  |
| æ— å¤´ç»“ç‚¹é“¾è¡¨ï¼ˆPythonï¼‰ | å’Œé¦–èŠ‚ç‚¹ç›¸åŒ      | ç¬¬ä¸€ä¸ªèŠ‚ç‚¹     | åŒä¸€ä¸ªèŠ‚ç‚¹ |

---

## âœ… å››ã€é‡ç‚¹ç»“è®º

> åœ¨ **Pythonã€Java** è¿™ç§é«˜çº§è¯­è¨€çš„é“¾è¡¨å®žçŽ°é‡Œï¼ˆæ¯”å¦‚ä½ å†™çš„ `LinkedList`ï¼‰ï¼Œé€šå¸¸**æ²¡æœ‰å•ç‹¬çš„â€œå¤´ç»“ç‚¹â€**ï¼Œ
> å› æ­¤ï¼šå¤´èŠ‚ç‚¹ = é¦–èŠ‚ç‚¹ = ç¬¬ä¸€ä¸ªèŠ‚ç‚¹

ä½†åœ¨ æ•™æã€Cè¯­è¨€ æˆ– ç®—æ³•é¢˜ï¼ˆå°¤å…¶â€œå¤´æ’æ³•â€ï¼‰ä¸­ï¼Œ
> â€œå¤´ç»“ç‚¹â€å¯èƒ½æ˜¯ä¸€ä¸ªä¸å­˜æ•°æ®çš„**è¾…åŠ©èŠ‚ç‚¹ï¼ˆdummy nodeï¼‰**ï¼Œ
> è¿™æ—¶ï¼š å¤´èŠ‚ç‚¹ â‰  é¦–èŠ‚ç‚¹
---

æ˜¯å¦å¸Œæœ›æˆ‘å¸®ä½ ç”»ä¸¤å¼ å›¾ï¼ˆæœ‰å¤´ç»“ç‚¹ vs æ— å¤´ç»“ç‚¹çš„å¯¹æ¯”å›¾ï¼‰ï¼Œç›´è§‚çœ‹æ¸…è¿™ä¸‰è€…çš„åŒºåˆ«ï¼Ÿ

        """

    def is_empty(self):
        # é“¾è¡¨æ˜¯å¦ä¸ºç©º
        return self.__head == None # åˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¦æ˜¯å¤´èŠ‚ç‚¹ï¼Œå¦‚æžœæ˜¯å¤´èŠ‚ç‚¹ï¼Œåˆ™è¿”å›žTrue

    def length(self):
        # é“¾è¡¨é•¿åº¦
        current = self.__head
        count = 0
        while current != None:
            count += 1
            current = current.next
        return count
        """
ðŸ§© èƒŒæ™¯ï¼šé“¾è¡¨ç»“æž„

åœ¨é“¾è¡¨ï¼ˆLinked Listï¼‰ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹ï¼ˆNodeï¼‰éƒ½åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼š

dataï¼šå­˜å‚¨æ•°æ®

nextï¼šæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨ï¼ˆä¹Ÿå¯ä»¥ç†è§£ä¸ºâ€œæŒ‡é’ˆâ€ï¼‰

ä¾‹å¦‚ï¼Œä¸€ä¸ªç®€å•çš„é“¾è¡¨ï¼š

head â†’ [10 | next] â†’ [20 | next] â†’ [30 | None]


æœ€åŽä¸€ä¸ªèŠ‚ç‚¹çš„ next æ˜¯ Noneï¼Œè¡¨ç¤ºé“¾è¡¨ç»“æŸã€‚

ðŸ§  ä»£ç è§£è¯»

å‡è®¾é“¾è¡¨ç±»ä¸­æœ‰ä¸€ä¸ª head å±žæ€§ï¼ŒæŒ‡å‘é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼š

cur = self.head

ðŸ” while cur:

è¿™è¡Œæ„æ€æ˜¯ï¼š
åªè¦ cur ä¸æ˜¯ Noneï¼Œå°±ç»§ç»­å¾ªçŽ¯ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦è¿˜æ²¡èµ°åˆ°é“¾è¡¨çš„ç»“å°¾ï¼Œå°±ä¸€ç›´å¾€ä¸‹ä¸€ä¸ªèŠ‚ç‚¹èµ°ã€‚

âž• count += 1

æ¯æ¬¡è¿›å…¥å¾ªçŽ¯ï¼Œè¯´æ˜Žæˆ‘ä»¬è®¿é—®åˆ°äº†ä¸€ä¸ªæœ‰æ•ˆèŠ‚ç‚¹ã€‚
æ‰€ä»¥æˆ‘ä»¬è®©è®¡æ•°å™¨ count åŠ ä¸€ï¼Œç”¨æ¥è®°å½•èŠ‚ç‚¹çš„æ•°é‡ã€‚

ðŸ‘‰ cur = cur.next

è¿™è¡Œè¡¨ç¤ºï¼š
è®© cur æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚

è¿™æ ·æ¯æ¬¡å¾ªçŽ¯éƒ½ä¼šâ€œå‘å‰èµ°ä¸€æ­¥â€ï¼Œç›´åˆ°èµ°åˆ°é“¾è¡¨æœ«å°¾ï¼ˆå³ cur å˜ä¸º Noneï¼‰ã€‚

ðŸ“˜ ä¸¾ä¸ªä¾‹å­

å‡è®¾é“¾è¡¨æ˜¯è¿™æ ·çš„ï¼š

head â†’ [A] â†’ [B] â†’ [C] â†’ None


ç¨‹åºæ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š

å¾ªçŽ¯æ¬¡æ•°	cur æŒ‡å‘çš„èŠ‚ç‚¹	count å€¼	cur.next
ç¬¬1æ¬¡	A	1	æŒ‡å‘ B
ç¬¬2æ¬¡	B	2	æŒ‡å‘ C
ç¬¬3æ¬¡	C	3	æŒ‡å‘ None
ç¬¬4æ¬¡	None	å¾ªçŽ¯ç»“æŸ	æ— 

æœ€åŽè¿”å›ž count = 3ã€‚

âœ… æ€»ç»“ä¸€å¥è¯

è¿™æ®µä»£ç çš„ä½œç”¨æ˜¯ï¼š

ä»Žå¤´èŠ‚ç‚¹å¼€å§‹ï¼Œæ²¿ç€ next ä¸€ç›´å¾€åŽèµ°ï¼Œæ¯ç»è¿‡ä¸€ä¸ªèŠ‚ç‚¹å°±æŠŠ count åŠ  1ï¼Œç›´åˆ°é“¾è¡¨æœ«å°¾ä¸ºæ­¢ã€‚

ä¹Ÿå°±æ˜¯ï¼š

éåŽ†æ•´ä¸ªé“¾è¡¨å¹¶ç»Ÿè®¡èŠ‚ç‚¹æ•°é‡ã€‚
        """


    def travel(self):
        # éåŽ†æ•´ä¸ªé“¾è¡¨
        current = self.__head
        while current != None:
            print(current.data, end=" ")
            current = current.next
        print("")

    def add(self, data):
        # é“¾è¡¨å¤´éƒ¨æ·»åŠ å…ƒç´ ,å¤´æ’æ³•
        new_node = Node(data)
        new_node.next = self.__head
        self.__head = new_node

    def append(self, data):
        # é“¾è¡¨å°¾éƒ¨æ·»åŠ å…ƒç´ , å°¾æ’æ³•
        new_node = Node(data)
        if self.is_empty():
            self.__head = new_node
        else:
            current = self.__head
            while current.next != None:
                current = current.next
            current.next = new_node

    def insert(self, pos, data):
        # æŒ‡å®šä½ç½®æ·»åŠ å…ƒç´ 
        # pos: å…ƒç´ çš„ä¸‹è§’æ ‡
        if pos > (self.length() - 1):
            self.append(data)
        elif pos <= 0:
            self.add(data)
        else:
            new_node = Node(data)
            pre = self.__head
            count = 0
            while count < (pos - 1):
                count += 1
                pre = pre.next
            new_node.next = pre.next
            pre.next = new_node

    def remove(self, data):
        # åˆ é™¤èŠ‚ç‚¹
        current = self.__head
        pre = None
        while current != None:
            if current.data == data:
                # åˆ¤æ–­å½“å‰èŠ‚ç‚¹å…ƒç´ ï¼Œä¸Žè¦åˆ é™¤çš„å…ƒç´ æ˜¯å¦ç›¸ç­‰
                if current == self.__head:
                    self.__head = current.next
                else:
                    pre.next = current.next
                break
            else:
                pre = current
                current = current.next

    def search(self, data):
        # æŸ¥æ‰¾èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨
        current = self.__head
        while current != None:
            if current.data == data:
                return True
            else:
                current = current.next
        return False


if __name__ == "__main__":
    linklist = LinkList()

    # åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©º
    print(linklist.is_empty())
    # æ‰“å°é“¾è¡¨é•¿åº¦
    print(linklist.length())

    linklist.add(10)  # 10
    linklist.add(20)  # 20,10
    linklist.add(30)  # 30,20,10
    linklist.append(100)
    linklist.append(200)  # 30,20,10,100,200

    # linklist.travel()
    # # åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©º
    # print(linklist.is_empty())
    # # æ‰“å°é“¾è¡¨é•¿åº¦
    # print(linklist.length())
    linklist.insert(2, 500)  # 30,20,500,10,100,200
    linklist.travel()
    linklist.insert(-1, 123)  # 123,30,20,500,10,100,200
    linklist.travel()
    linklist.insert(20, 678)  # 123,30,20,500,10,100,200,678
    linklist.travel()
    print(linklist.search(500))
    print(linklist.search(666))
