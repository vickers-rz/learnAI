# # 请使用递归算法实现一个函数，用于计算一个整数数组中所有元素的乘积。详细描述你的算法思路，包括递归的终止条件和递归步骤
"""
递归计算数组元素乘积

算法思路：
1. 递归终止条件：当数组中只剩下一个元素时，返回该元素，因为它是乘积的最后一个因子。
2. 递归步骤：取出数组的第一个元素，递归调用函数计算数组剩余部分的乘积，
   将第一个元素与递归调用返回的结果相乘，得到最终的乘积。
"""


def product(arr):
    """
    递归计算数组元素的乘积
    
    Args:
        arr: 数字列表
        
    Returns:
        数组中所有元素的乘积
        
    Example:
        >>> product([1, 2, 3, 4])
        24
    """
    # 终止条件：当数组只剩一个元素时，返回该元素
    if len(arr) == 1:
        return arr[0]
    
    # 递推关系：第一个元素 * 剩余元素的乘积
    return arr[0] * product(arr[1:])


# 示例
if __name__ == "__main__":
    arr = [1, 2, 3, 4]
    result = product(arr)
    print(f"The product of the array elements is: {result}")
    
    """
    代码解释：
    1. 终止条件：当数组中只剩下一个元素时，递归返回该元素。
       if len(arr) == 1: return arr[0]
       
    2. 递推关系：将数组分为第一个元素和剩余部分，递归地计算剩余部分的乘积，
       然后与第一个元素相乘。
       return arr[0] * product(arr[1:])
       
    示例：对于输入[1, 2, 3, 4]，输出将是24，即1 * 2 * 3 * 4。
    
    额外说明：
    这个递归算法的时间复杂度是O(n)，空间复杂度是O(n)，其中n是数组的长度。
    对于递归问题，通常会有一个栈深度问题。对于大规模数组（递归深度非常大时），
    可能会导致栈溢出错误。
    """
